<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="2.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 2</title>
    <script>
        let aciertos = 0;
        let fallos = 0;
        let primos = 16;

        var seconds = 300;
        function secondPassed() {
            var minutes = Math.round((seconds-30) / 60);
            console.log(minutes);
            var remainingSeconds = seconds % 60;
            if (remainingSeconds < 10) {
                remainingSeconds = "0" + remainingSeconds;
            }
            document.getElementById("contador").innerHTML = minutes + ":" + remainingSeconds;
            if (seconds == 0) {
                clearInterval(countdownTimer);
                document.getElementById("parrafo").innerHTML = "<h2>El tiempo se ha agotado!!!</h2>";

                const boton = document.querySelectorAll("button");

                for (let i = 0; i <= 50; i++) {
                    boton[i].disabled = true;
                }

                document.getElementById("reintentar").disabled = false;
            } else {
                seconds--;
            }
        }
        var countdownTimer = setInterval('secondPassed()', 1000);

        function comprobar(comp) {
            let numero = comp.id;
            let verd = true;

            for (var i = 2; i < numero; i++) {
                if (numero % i == 0) {
                    verd = false;
                }
            }


            if (verd) {
                aciertos = ++aciertos;
                comp.innerHTML = "__";
                comp.disabled = true;
                console.log(aciertos);
            } else {
                fallos = ++fallos;
                comp.style.color = "red";
                comp.style.borderColor = "red";
                comp.disabled = true;
            }

            if (aciertos == 16) {
                const boton = document.querySelectorAll("button");

                for (let i = 0; i <= 50; i++) {
                    boton[i].disabled = true;
                }

                clearInterval(countdownTimer);

                document.getElementById("parrafo").innerHTML = "<h2>Lo has conseguido!!!</h2>";
                document.getElementById("errores").innerHTML = "Has tenido " + fallos  + " fallo(s)"

                document.getElementById("reintentar").disabled = false;
            }
        }
    </script>
</head>

<body>
    <h1>Números primos</h1>
    <h3>Elige los números que sean primos</h3>
    <!--<table>
        <tr>
            <td><button onclick="comprobar(this)" id="1">1</button></td>
            <td><button onclick="comprobar(this)" id="2">2</button></td>
            <td><button onclick="comprobar(this)" id="3">3</button></td>
            <td><button onclick="comprobar(this)" id="4">4</button></td>
            <td><button onclick="comprobar(this)" id="5">5</button></td>
            <td><button onclick="comprobar(this)" id="6">6</button></td>
            <td><button onclick="comprobar(this)" id="7">7</button></td>
            <td><button onclick="comprobar(this)" id="8">8</button></td>
            <td><button onclick="comprobar(this)" id="9">9</button></td>
            <td><button onclick="comprobar(this)" id="10">10</button></td>
        </tr>
        <tr>
            <td><button onclick="comprobar(this)" id="11">11</button></td>
            <td><button onclick="comprobar(this)" id="12">12</button></td>
            <td><button onclick="comprobar(this)" id="13">13</button></td>
            <td><button onclick="comprobar(this)" id="14">14</button></td>
            <td><button onclick="comprobar(this)" id="15">15</button></td>
            <td><button onclick="comprobar(this)" id="16">16</button></td>
            <td><button onclick="comprobar(this)" id="17">17</button></td>
            <td><button onclick="comprobar(this)" id="18">18</button></td>
            <td><button onclick="comprobar(this)" id="19">19</button></td>
            <td><button onclick="comprobar(this)" id="20">20</button></td>
        </tr>
        <tr>
            <td><button onclick="comprobar(this)" id="21">21</button></td>
            <td><button onclick="comprobar(this)" id="22">22</button></td>
            <td><button onclick="comprobar(this)" id="23">23</button></td>
            <td><button onclick="comprobar(this)" id="24">24</button></td>
            <td><button onclick="comprobar(this)" id="25">25</button></td>
            <td><button onclick="comprobar(this)" id="26">26</button></td>
            <td><button onclick="comprobar(this)" id="27">27</button></td>
            <td><button onclick="comprobar(this)" id="28">28</button></td>
            <td><button onclick="comprobar(this)" id="29">29</button></td>
            <td><button onclick="comprobar(this)" id="30">30</button></td>
        </tr>
        <tr>
            <td><button onclick="comprobar(this)" id="31">31</button></td>
            <td><button onclick="comprobar(this)" id="32">32</button></td>
            <td><button onclick="comprobar(this)" id="33">33</button></td>
            <td><button onclick="comprobar(this)" id="34">34</button></td>
            <td><button onclick="comprobar(this)" id="35">35</button></td>
            <td><button onclick="comprobar(this)" id="36">36</button></td>
            <td><button onclick="comprobar(this)" id="37">37</button></td>
            <td><button onclick="comprobar(this)" id="38">38</button></td>
            <td><button onclick="comprobar(this)" id="39">39</button></td>
            <td><button onclick="comprobar(this)" id="40">40</button></td>
        </tr>
        <tr>
            <td><button onclick="comprobar(this)" id="41">41</button></td>
            <td><button onclick="comprobar(this)" id="42">42</button></td>
            <td><button onclick="comprobar(this)" id="43">43</button></td>
            <td><button onclick="comprobar(this)" id="44">44</button></td>
            <td><button onclick="comprobar(this)" id="45">45</button></td>
            <td><button onclick="comprobar(this)" id="46">46</button></td>
            <td><button onclick="comprobar(this)" id="47">47</button></td>
            <td><button onclick="comprobar(this)" id="48">48</button></td>
            <td><button onclick="comprobar(this)" id="49">49</button></td>
            <td><button onclick="comprobar(this)" id="50">50</button></td>
        </tr>
    </table>-->

    <table id="tabla">
    </table>
    <span id="contador"></span>
    <button onclick="location.reload()" id="reintentar" disabled>Reintentar</button><br><br><br>

    <p id="parrafo"></p>
    <p id="errores"></p>

    <script>
        let miTabla = document.getElementById("tabla");
        let cont = 1;
        let salida = "";

        for (let i = 0; i < 5; i++) {
            salida += "<tr>";
            for (let j = 0; j < 10; j++) {
                salida += `<td><button onclick="comprobar(this)" id="${cont}">${cont}</button></td>`;
                cont++;
            }
            salida += "</tr>"
        }
        document.getElementById("tabla").innerHTML = salida;
    </script>
</body>

</html>
